<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>CSS</title>
  <link rel="stylesheet" href="node_modules/normalize.css/normalize.css">
  <link rel="stylesheet" href="css/base.css">
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
</head>

<body>

  <header role="banner">
    <h1>Toast notifications</h1>
  </header>
  <aside aria-label="notifications">
    <!-- Variation 1, identify alert with aria label on alert parent -->
    <article class="pf-c-toast pf-is-danger" id="varOne">
      <div role="alert" aria-live="assertive" aria-label="Error alert 1">
        <div class="pf-c-toast__icon" aria-hidden="true">
          <i class="fas fa-home"></i>
        </div>
        <div class="pf-c-toast__message">
          (Variation 1) Something bad has happened and you should know about it.
        </div>
      </div>
      <div class="pf-c-toast__action">
        <a href="#0">Fix It</a>

        <button role="button" aria-label="Dismiss Message" aria-controls="varOne">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </article>

    <!-- Variation 2, identify alert with sr-only text after the icon -->
    <!-- the alternative text for the icon seems to work best with this variation -->
    <article class="pf-c-toast pf-is-warning">
      <div class="pf-c-toast__icon" aria-hidden="true">
        <i class="fas fa-home"></i>
      </div>
      <div class="pf-c-toast__message" role="alert" aria-live="assertive">
        <span class="sr-only">Warning alert 2:</span>
        (Variation 2) Something bad could happen, but you have the ability to stop it.
      </div>
      <div class="pf-c-toast__action">
        <a href="#0">Stop It</a>

        <button aria-label="Dismiss Message">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </article>


    <!-- Variation 3, identify alert with title text on icon -->
    <article class="pf-c-toast pf-is-success">
      <div role="alert" aria-live="polite">
        <div class="pf-c-toast__icon">
          <i class="fas fa-home" title="Success message 3"></i>
        </div>
        <div class="pf-c-toast__message">
          (Variation 3) Something great just happened. You should celebrate.
        </div>
      </div>
      <div class="pf-c-toast__action">
        <a href="#0">Celebrate</a>

        <div class="pf-c-dropdown pf-to-right">
          <div class="pf-c-dropdown__trigger">
            <button role="button" class="pf-c-btn" type="button" id="dropdownMenuButton" data-toggle="pf-c-dropdown" aria-haspopup="true" aria-expanded="false" aria-label="More Actions">
              <i class="fas fa-ellipsis-v"></i>
            </button>
          </div>

          <div class="pf-c-dropdown__menu" aria-labelledby="dropdownMenuButton">
            <a class="pf-c-dropdown__link" href="#">Action</a>
            <a class="pf-c-dropdown__link" href="#">Another action</a>
            <a class="pf-c-dropdown__link" href="#">Something else here</a>
          </div>
        </div>

      </div>
    </article>

    <!-- Variation 4 icon svg with aria-label -->
    <article class="pf-c-toast pf-is-danger">
      <div role="alert" aria-live="assertive">
        <div class="pf-c-toast__icon">
          <svg aria-label="Error message 4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" style="width: 2em;">
            <circle cx="10" cy="10" r="10" />
          </svg>
        </div>
        <div class="pf-c-toast__message">
          (Variation 4) Something bad has happened and you should know about it.
        </div>
      </div>
      <div class="pf-c-toast__action">
        <a href="#0">Fix It</a>
        <button aria-label="Dismiss Message">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </article>

    <!-- Variation 5 using dialog instead of article -->
    <!-- should role="dialog" be included -->
    <div
      role="dialog"
      class="pf-c-toast pf-is-warning"
      aria-labelledby="dialog1Title"
      aria-describedby="dialog1Message">
      <div class="pf-c-toast__icon" aria-hidden="true">
        <i class="fas fa-home"></i>
      </div>
      <div class="pf-c-toast__message" role="alert" aria-live="assertive">
        <span id="dialog1Title" class="sr-only">Warning alert 5:</span>
        <span id="dialog1Message">
          (Variation 5) Something bad could happen, but you have the ability to stop it.
        </span>
      </div>
      <div class="pf-c-toast__action">
        <a href="#0">Stop It</a>

        <button aria-label="Dismiss Message">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <script src="js/kebab.js"></script>
  </aside>
  <p>Toast notification examples are implemented using different markup.</p>
  <ul>
    <li>Variation 1:
      <ul>
        <li>Parent element is an Article</li>
        <li>Alert type is provided in the form of aria-label on the div with role="alert" that contains the icon and text message</li>
        <li>Dismiss button includes aria-controls pointing to the parent Article element</li>
      </ul>
    </li>
    <li>Variation 2:
      <ul>
        <li>Parent element is an Article</li>
        <li>Alert type is included as screen-reader-only text in a span</li>
      </ul>
    </li>
    <li>Variation 3:
      <ul>
        <li>Parent element is an Article</li>
        <li>Alert type is included as title text for the fontawesome icon, and this text gets converted to a title element when the icon is converted to an svg element</li>
      </ul>
    </li>
    <li>Variation 4:
      <ul>
        <li>Parent element is an Article</li>
        <li>Alert type is included as aria-label for an svg element</li>
      </ul>
    </li>
    <li>Variation 5:
      <ul>
        <li>Parent element is a div with role="dialog"</li>
        <li>Alert type is included as screen-reader-only text in a span (like variation 2)</li>
      </ul>
    </li>
  </ul>
  <article>
    <h3><a href="https://www.w3.org/TR/wai-aria-practices/#alert" target="_blank">Offical docs for alert</a></h3>
    <blockquote cite="https://www.w3.org/TR/wai-aria-practices/#alert">
      <p>"It is important to note that, at this time, screen readers do not inform users of alerts that are present on the page before page load completes."</p>
    </blockquote>
    <p>So while these notifications are not read aloud in VO by default, what's really interesting is inspecting the different sections of the VO rotor menu, to see how these various notifications and their details are exposed.</p>
  </article>

</body>
</html>
